# config/config.yaml

connectivity:
  heartbeat_threshold_ms: 500       # Trigger safety mode above this lag
  ws_base_backoff_s: 1              # Initial WebSocket reconnect wait
  ws_max_backoff_s: 300             # Ceiling for exponential backoff

risk:
  circuit_breaker_drawdown: 0.03    # 3% intraday equity loss triggers halt
  circuit_breaker_poll_s: 10        # Equity check interval in seconds
  max_spread_pct: 0.0005            # 0.05% max bid-ask spread for entry
  adv_position_limit: 0.01          # Max position as fraction of 20-day ADV

sizing:
  kelly_fraction: 0.25              # Fractional Kelly multiplier
  vix_baseline: 20.0                # VIX level at which no penalty applies
  vix_max: 40.0                     # VIX level at which size collapses to 0
  atr_baseline_pct: 0.015           # ATR% baseline (no penalty)
  atr_max_pct: 0.040                # ATR% level at which size collapses to 0

regime:
  hmm_states: 3                     # Bull / Neutral / Bear
  fast_exit_slope_threshold: -0.002 # 5-min SPY slope trigger
  fast_exit_lookback_bars: 12       # 12 x 5min = 1hr window

validation:
  cv_gap_size: 10                   # Purge buffer bars around test boundary
  cv_embargo_pct: 0.01              # Fraction of train set embargoed post-test
  dcf_simulations: 10000            # Monte Carlo paths per valuation
  dcf_undervalue_threshold: 0.65    # Min P(undervalued) to pass Phase 2

sentiment:
  zscore_exit_threshold: -2.0       # SD drop to trigger sentiment exit
  min_history_readings: 60          # Minimum scores before z-score is valid
